# Example demonstrating the new 'groupby' constraint for binary selectors
# This creates multiple groups based on relationships

constraints:
  # Traditional single group constraint (unary selector)
  - group:
      selector: "Student"
      name: "all_students"

  # New groupby constraint for binary selectors
  # Creates one group per unique teacher, containing their students
  - groupby:
      selector: "Teacher->Student"  # Binary selector: teacher to student relationship
      name: "classroom"             # Base name - becomes "classroom[TeacherName]"

  # Another example: group cars by their owners
  - groupby:
      selector: "Person.owns"       # Binary relation from Person to Car
      name: "garage"                # Creates "garage[PersonName]" groups

  # Group products by category
  - groupby:
      selector: "Category->Product"
      name: "catalog"               # Creates "catalog[CategoryName]" groups

# These work alongside existing constraints
  - orientation:
      directions: ["left"]
      selector: "Teacher"

directives:
  - attribute:
      field: "name"